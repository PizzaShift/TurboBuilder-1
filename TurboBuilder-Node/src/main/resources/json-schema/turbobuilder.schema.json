{
    "$id": "http://example.com/root.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "turbobuilder.json schema",
    "required": [
        "metadata"
    ],
    "additionalProperties": false, 
    "properties": {
        "metadata": {
            "type": "object",
            "description": "Contains information about the project",
            "required": [
                "builderVersion"
            ],
            "additionalProperties": false, 
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The project name"
                },
                "description": {
                    "type": "string",
                    "description": "The project description"
                },
                "builderVersion": {
                    "type": "string",
                    "description": "The turbo builder version that is used by this project"
                }
            }
        },
        "validate": {
            "type": "object",
            "description": "The Validate Schema",
            "additionalProperties": false,
            "properties": {
                "runBeforeBuild": {
                    "type": "boolean",
                    "description": "The Runbeforebuild Schema"
                },
                "projectStructure": {
                    "type": "object",
                    "description": "The Projectstructure Schema",
                    "required": [
                        "enabled",
                        "forceExtrasFolder",
                        "forceReadmeFile",
                        "forceTodoFolder",
                        "resourcesStructure",
                        "checkGitIgnore"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "description": "The Enabled Schema"
                        },
                        "forceExtrasFolder": {
                            "type": "boolean",
                            "description": "The Forceextrasfolder Schema"
                        },
                        "forceReadmeFile": {
                            "type": "boolean",
                            "description": "The Forcereadmefile Schema"
                        },
                        "forceTodoFolder": {
                            "type": "boolean",
                            "description": "The Forcetodofolder Schema"
                        },
                        "resourcesStructure": {
                            "type": "boolean",
                            "description": "The Resourcesstructure Schema"
                        },
                        "checkGitIgnore": {
                            "type": "boolean",
                            "description": "The Checkgitignore Schema"
                        }
                    }
                },
                "phpNamespaces": {
                    "type": "object",
                    "description": "The Phpnamespaces Schema",
                    "required": [
                        "enabled",
                        "mandatory",
                        "mustContain",
                        "excludes"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "description": "The Enabled Schema"
                        },
                        "mandatory": {
                            "type": "boolean",
                            "description": "The Mandatory Schema"
                        },
                        "mustContain": {
                            "type": "array",
                            "description": "The Mustcontain Schema",
                            "items": {
                                "type": "string",
                                "description": "The Items Schema"
                            }
                        },
                        "excludes": {
                            "type": "array",
                            "description": "The Excludes Schema",
                            "items": {
                                "type": "string",
                                "description": "The Items Schema"
                            }
                        }
                    }
                },
                "copyrightHeaders": {
                    "type": "array",
                    "description": "The Copyrightheaders Schema",
                    "items": {
                        "type": "object",
                        "description": "The Items Schema",
                        "required": [
                            "path",
                            "appliesTo",
                            "includes",
                            "excludes"
                        ],
                        "additionalProperties": false, 
                        "properties": {
                            "path": {
                                "type": "string",
                                "description": "The Path Schema"
                            },
                            "appliesTo": {
                                "type": "string",
                                "description": "The Appliesto Schema"
                            },
                            "includes": {
                                "type": "array",
                                "description": "The Includes Schema",
                                "items": {
                                    "type": "string",
                                    "description": "The Items Schema"
                                }
                            },
                            "excludes": {
                                "type": "array",
                                "description": "The Excludes Schema",
                                "items": {
                                    "type": "string",
                                    "description": "The Items Schema"
                                }
                            }
                        }
                    }
                },
                "sitePhp": {
                    "type": "object",
                    "description": "The Sitephp Schema",
                    "required": [
                        "cssHardcodedColors"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "cssHardcodedColors": {
                            "type": "boolean",
                            "description": "The Csshardcodedcolors Schema"
                        }
                    }
                }
            }
        },
        "build": {
            "type": "object",
            "description": "Defines the parameters for the build process",
            "oneOf": [
                {"required": ["site_php"]},
                {"required": ["lib_php"]},
                {"required": ["lib_java"]},
                {"required": ["lib_js"]},
                {"required": ["lib_ts"]}
            ],
            "additionalProperties": false, 
            "properties": {
                "printTodoFiles": {
                    "type": "boolean",
                    "description": "If enabled, the contents of all the files on the extras/todo folder will be displayed as part of the build console output"
                },
                "replaceVersion": {
                    "type": "object",
                    "description": "We can define a wildcard to be replaced with the project version number after the build process finishes",
                    "additionalProperties": false, 
                    "properties": {
                        "wildCard": {
                            "type": "string",
                            "description": "The pattern to search on the specified file extensions that will be replaced with the project version number"
                        },
                        "extensions": {
                            "type": "array",
                            "description": "List of file extensions where the replacement will be performed"
                        }
                    }
                },
                "site_php": {
                    "type": "object",
                    "description": "The Site_php Schema",
                    "additionalProperties": false
                },
                "lib_php": {
                    "type": "object",
                    "description": "The Lib_php Schema",
                    "additionalProperties": false, 
                    "properties": {
                        "createPhar": {
                            "type": "boolean",
                            "description": "The Createphar Schema"
                        }
                    }
                },
                "lib_java": {
                    "type": "object",
                    "description": "The Lib_java Schema",
                    "additionalProperties": false,
                    "properties": {
                        "createJar": {
                            "type": "boolean",
                            "description": "The Createjar Schema"
                        }
                    }
                },
                "lib_js": {
                    "type": "object",
                    "description": "A project that contains javascript files and generates a reusable js library",
                    "required": [
                        "deleteNonMergedJs",
                        "createMergedFile",
                        "mergedFileName"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "deleteNonMergedJs": {
                            "type": "boolean",
                            "description": "If set to true, no source js files will be copied to the dist folder"
                        },
                        "createMergedFile": {
                            "type": "boolean",
                            "description": "If set to true, all source js files will be merged into the specified mergedFileName file"
                        },
                        "mergedFileName": {
                            "type": "string",
                            "description": "Defines the name for the js file that contains all the library merged code. Extension (.js) must not be written here. If left empty, the project name will be used by default"
                        }
                    }
                },
                "lib_ts": {
                    "type": "object",
                    "description": "A typescript library project type",
                    "additionalProperties": false,
                    "properties": {
                        "declaration": {
                            "type": "boolean",
                            "description": "The Declaration Schema"
                        },
                        "strict": {
                            "type": "boolean",
                            "description": "The Strict Schema"
                        },
                        "sourceMap": {
                            "type": "boolean",
                            "description": "The Sourcemap Schema"
                        },
                        "targets": {
                            "type": "array",
                            "description": "The Targets Schema",
                            "items": {
                                "type": "object",
                                "description": "The Items Schema",
                                "required": [
                                    "folder",
                                    "jsTarget"
                                ],
                                "additionalProperties": false, 
                                "properties": {
                                    "folder": {
                                        "type": "string",
                                        "description": "TODO"
                                    },
                                    "jsTarget": {
                                        "type": "string",
                                        "description": "TODO"
                                    },
                                    "mergedFile": {
                                        "type": "string",
                                        "description": "Defines the name for the js file that contains all the library code merged for this specific ES target. Extension (.js) must not be written here"
                                    },
                                    "globalVar": {
                                        "type": "string",
                                        "description": "Defines the name of the global namespace variable that will be generated to contain the compiled library code. This can then be safely used along with other libraries without danger of collision cause all the classes and methods will be declared under this global variable"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "release": {
            "type": "object",
            "description": "The Release Schema",
            "required": [
            ],
            "additionalProperties": false, 
            "properties": {
                "printTodoFiles": {
                    "type": "boolean",
                    "description": "If enabled, the contents of all the files on the extras/todo folder will be displayed as part of the release console output"
                },
                "gitChangeLog": {
                    "type": "boolean",
                    "description": "The Gitchangelog Schema"
                },
                "gitChangeLogCount": {
                    "type": "integer",
                    "description": "The Gitchangelogcount Schema"
                },
                "optimizePictures": {
                    "type": "boolean",
                    "description": "The Optimizepictures Schema"
                },
                "generateCodeDocumentation": {
                    "type": "boolean",
                    "description": "The Generatecodedocumentation Schema"
                }
            }
        },
        "sync": {
            "type": "array",
            "description": "The Sync Schema",
            "items": {
                "type": "object",
                "description": "The Items Schema",
                "required": [
                    "runAfterBuild",
                    "type",
                    "excludes",
                    "sourcePath",
                    "destPath",
                    "deleteDestPathContents"
                ],
                "additionalProperties": false, 
                "properties": {
                    "runAfterBuild": {
                        "type": "boolean",
                        "description": "The Runafterbuild Schema"
                    },
                    "type": {
                        "type": "string",
                        "description": "The Type Schema"
                    },
                    "excludes": {
                        "type": "array",
                        "description": "The Excludes Schema",
                        "items": {
                            "type": "string",
                            "description": "The Items Schema"
                        }
                    },
                    "sourcePath": {
                        "type": "string",
                        "description": "The Sourcepath Schema"
                    },
                    "destPath": {
                        "type": "string",
                        "description": "The Destpath Schema"
                    },
                    "deleteDestPathContents": {
                        "type": "boolean",
                        "description": "The Deletedestpathcontents Schema"
                    }
                }
            }
        },
        "test": {
            "type": "array",
            "description": "The Test Schema",
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": ["type", "testsRoot", "coverageReport", "coverageReportOpenAfterTests"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "testsRoot": {"type": "string"},
                            "coverageReport": {"type": "boolean"},
                            "coverageReportOpenAfterTests": {"type": "boolean"}
                        }
                    },
                    {
                        "type": "object",
                        "required": ["type", "jasmineConfig"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "jasmineConfig": {"type": "string"}
                        }
                    },
                    {
                        "type": "object",
                        "required": ["type", "testsRoot", "httpServerPort", "targets", "browsers"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "testsRoot": {"type": "string"},
                            "httpServerPort": {"type": "string"},
                            "targets": {"type": "array"},
                            "browsers": {"type": "object"}
                        }
                    }
                ]
            }
        }
    }
}