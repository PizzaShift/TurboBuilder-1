{
    "$id": "http://example.com/root.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "turbobuilder.json schema",
    "required": [
        "metadata"
    ],
    "additionalProperties": false, 
    "properties": {
        "metadata": {
            "type": "object",
            "description": "Contains information about the project",
            "required": [
                "builderVersion"
            ],
            "additionalProperties": false, 
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The project name"
                },
                "description": {
                    "type": "string",
                    "description": "The project description"
                },
                "builderVersion": {
                    "type": "string",
                    "description": "The turbo builder version that is used by this project"
                }
            }
        },
        "validate": {
            "type": "object",
            "description": "The Validate Schema",
            "additionalProperties": false,
            "properties": {
                "runBeforeBuild": {
                    "type": "boolean",
                    "description": "The Runbeforebuild Schema"
                },
                "projectStructure": {
                    "type": "object",
                    "description": "The Projectstructure Schema",
                    "required": [
                        "enabled",
                        "forceExtrasFolder",
                        "forceReadmeFile",
                        "forceTodoFolder",
                        "resourcesStructure",
                        "checkGitIgnore"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "description": "The Enabled Schema"
                        },
                        "forceExtrasFolder": {
                            "type": "boolean",
                            "description": "The Forceextrasfolder Schema"
                        },
                        "forceReadmeFile": {
                            "type": "boolean",
                            "description": "The Forcereadmefile Schema"
                        },
                        "forceTodoFolder": {
                            "type": "boolean",
                            "description": "The Forcetodofolder Schema"
                        },
                        "resourcesStructure": {
                            "type": "boolean",
                            "description": "The Resourcesstructure Schema"
                        },
                        "checkGitIgnore": {
                            "type": "boolean",
                            "description": "The Checkgitignore Schema"
                        }
                    }
                },
                "phpNamespaces": {
                    "type": "object",
                    "description": "The Phpnamespaces Schema",
                    "required": [
                        "enabled",
                        "mandatory",
                        "mustContain",
                        "excludes"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "description": "The Enabled Schema"
                        },
                        "mandatory": {
                            "type": "boolean",
                            "description": "The Mandatory Schema"
                        },
                        "mustContain": {
                            "type": "array",
                            "description": "The Mustcontain Schema",
                            "items": {
                                "type": "string",
                                "description": "The Items Schema"
                            }
                        },
                        "excludes": {
                            "type": "array",
                            "description": "The Excludes Schema",
                            "items": {
                                "type": "string",
                                "description": "The Items Schema"
                            }
                        }
                    }
                },
                "copyrightHeaders": {
                    "type": "array",
                    "description": "The Copyrightheaders Schema",
                    "items": {
                        "type": "object",
                        "description": "The Items Schema",
                        "required": [
                            "path",
                            "appliesTo",
                            "includes",
                            "excludes"
                        ],
                        "additionalProperties": false, 
                        "properties": {
                            "path": {
                                "type": "string",
                                "description": "The Path Schema"
                            },
                            "appliesTo": {
                                "type": "string",
                                "description": "The Appliesto Schema"
                            },
                            "includes": {
                                "type": "array",
                                "description": "The Includes Schema",
                                "items": {
                                    "type": "string",
                                    "description": "The Items Schema"
                                }
                            },
                            "excludes": {
                                "type": "array",
                                "description": "The Excludes Schema",
                                "items": {
                                    "type": "string",
                                    "description": "The Items Schema"
                                }
                            }
                        }
                    }
                },
                "sitePhp": {
                    "type": "object",
                    "description": "The Sitephp Schema",
                    "required": [
                        "cssHardcodedColors"
                    ],
                    "additionalProperties": false, 
                    "properties": {
                        "cssHardcodedColors": {
                            "type": "boolean",
                            "description": "The Csshardcodedcolors Schema"
                        }
                    }
                }
            }
        },
        "build": {
            "type": "object",
            "description": "Defines the parameters for the build process",
            "oneOf": [
                {"required": ["site_php"]},
                {"required": ["lib_php"]},
                {"required": ["lib_java"]},
                {"required": ["lib_ts"]}
            ],
            "additionalProperties": false, 
            "properties": {
                "keepUnpackedSrcFiles": {
                    "type": "boolean",
                    "description": "The Keepunpackedsrcfiles Schema"
                },
                "printTodoFiles": {
                    "type": "boolean",
                    "description": "The Printtodofiles Schema"
                },
                "site_php": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "The Site_php Schema",
                    "additionalProperties": false
                },
                "lib_php": {
                    "type": "object",
                    "description": "The Lib_php Schema",
                    "additionalProperties": false, 
                    "properties": {
                        "createPhar": {
                            "type": "boolean",
                            "description": "The Createphar Schema"
                        }
                    }
                },
                "lib_java": {
                    "type": "object",
                    "description": "The Lib_java Schema",
                    "additionalProperties": false,
                    "properties": {
                        "createJar": {
                            "type": "boolean",
                            "description": "The Createjar Schema"
                        }
                    }
                },
                "lib_ts": {
                    "type": "object",
                    "description": "A typescript library project type",
                    "additionalProperties": false,
                    "properties": {
                        "declaration": {
                            "type": "boolean",
                            "description": "The Declaration Schema"
                        },
                        "strict": {
                            "type": "boolean",
                            "description": "The Strict Schema"
                        },
                        "sourceMap": {
                            "type": "boolean",
                            "description": "The Sourcemap Schema"
                        },
                        "targets": {
                            "type": "array",
                            "description": "The Targets Schema",
                            "items": {
                                "type": "object",
                                "description": "The Items Schema",
                                "required": [
                                    "folder",
                                    "jsTarget"
                                ],
                                "additionalProperties": false, 
                                "properties": {
                                    "folder": {
                                        "type": "string",
                                        "description": "TODO"
                                    },
                                    "jsTarget": {
                                        "type": "string",
                                        "description": "TODO"
                                    },
                                    "mergedFile": {
                                        "type": "string",
                                        "description": "TODO"
                                    },
                                    "globalVar": {
                                        "type": "string",
                                        "description": "Defines the name of the global namespace variable that will be generated to contain the compiled library code. This can then be safely used along with other libraries without danger of collision cause all the classes and methods will be declared under this global variable"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "release": {
            "type": "object",
            "description": "The Release Schema",
            "required": [
                "printTodoFiles",
                "gitChangeLog",
                "gitChangeLogCount",
                "optimizePictures",
                "generateCodeDocumentation"
            ],
            "additionalProperties": false, 
            "properties": {
                "printTodoFiles": {
                    "type": "boolean",
                    "description": "The Printtodofiles Schema"
                },
                "gitChangeLog": {
                    "type": "boolean",
                    "description": "The Gitchangelog Schema"
                },
                "gitChangeLogCount": {
                    "type": "integer",
                    "description": "The Gitchangelogcount Schema"
                },
                "optimizePictures": {
                    "type": "boolean",
                    "description": "The Optimizepictures Schema"
                },
                "generateCodeDocumentation": {
                    "type": "boolean",
                    "description": "The Generatecodedocumentation Schema"
                }
            }
        },
        "sync": {
            "type": "array",
            "description": "The Sync Schema",
            "items": {
                "type": "object",
                "description": "The Items Schema",
                "required": [
                    "runAfterBuild",
                    "type",
                    "excludes",
                    "sourcePath",
                    "destPath",
                    "deleteDestPathContents"
                ],
                "additionalProperties": false, 
                "properties": {
                    "runAfterBuild": {
                        "type": "boolean",
                        "description": "The Runafterbuild Schema"
                    },
                    "type": {
                        "type": "string",
                        "description": "The Type Schema"
                    },
                    "excludes": {
                        "type": "array",
                        "description": "The Excludes Schema",
                        "items": {
                            "type": "string",
                            "description": "The Items Schema"
                        }
                    },
                    "sourcePath": {
                        "type": "string",
                        "description": "The Sourcepath Schema"
                    },
                    "destPath": {
                        "type": "string",
                        "description": "The Destpath Schema"
                    },
                    "deleteDestPathContents": {
                        "type": "boolean",
                        "description": "The Deletedestpathcontents Schema"
                    }
                }
            }
        },
        "test": {
            "type": "array",
            "description": "The Test Schema",
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": ["type", "testsRoot", "coverageReport", "coverageReportOpenAfterTests"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "testsRoot": {"type": "string"},
                            "coverageReport": {"type": "boolean"},
                            "coverageReportOpenAfterTests": {"type": "boolean"}
                        }
                    },
                    {
                        "type": "object",
                        "required": ["type", "jasmineConfig"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "jasmineConfig": {"type": "string"}
                        }
                    },
                    {
                        "type": "object",
                        "required": ["type", "testsRoot", "httpServerPort", "targets", "browsers"],
                        "additionalProperties": false, 
                        "properties": {
                            "type": {"type": "string"},
                            "testsRoot": {"type": "string"},
                            "httpServerPort": {"type": "string"},
                            "targets": {"type": "array"},
                            "browsers": {"type": "object"}
                        }
                    }
                ]
            }
        }
    }
}