{
    "$id": "http://example.com/root.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "turbosite.json schema",
    "required": [
        "cacheHash",
        "errorSetup",
        "homeView",
        "baseURL",
        "singleParameterView",
        "locales",
        "resourceBundles",
        "globalCss",
        "globalCDNS",
        "globalJs",
        "testsSetup"
    ],
    "additionalProperties": false, 
    "properties": {
        "cacheHash": {
            "type": "string",
            "description": "A value that is added to the generated urls every time the project is built to prevent the browser from caching some resources. This is autogenerated when comiling the project, so you normally won't put any value here.'"
        },
        "errorSetup": {
            "type": "object",
            "description": "Defines how errors and warnings are handled by the application",
            "required": [
                "exceptionsToBrowser",
                "exceptionsToMail",
                "warningsToBrowser",
                "warningsToMail"
            ],
            "additionalProperties": false,
            "properties": {
                "exceptionsToBrowser": {
                    "type": "boolean",
                    "description": "If set to true, all application exceptions information will be written directly to the browser output."
                },
                "exceptionsToMail": {
                    "type": "string",
                    "description": "The Exceptionstomail Schema"
                },
                "warningsToBrowser": {
                    "type": "boolean",
                    "description": "The Warningstobrowser Schema"
                },
                "warningsToMail": {
                    "type": "string",
                    "description": "The Warningstomail Schema"
                }
            }
        },
        "homeView": {
            "type": "string",
            "description": "Contains the name of the view that is shown at the root url.",
            "examples": [
                "home",
                "some-other-view"
            ]
        },
        "baseURL": {
            "type": "string",
            "description": "If the project is not deployed at the root of its host, we must place here the relative path where it is located. For example, if we deploy our site into http://somehost.com/somefolder, we must define the baseURL as \"somefolder\""
        },
        "singleParameterView": {
            "type": "string",
            "description": "This is the view that will be called by default when the current url contains only a single parameter like: http://host/this-is-a-parameter"
        },
        "locales": {
            "type": "array",
            "description": "The list of locales that will be available on the site. Sorted by preference",
            "items": {
                "type": "string"
            }
        },
        "resourceBundles": {
            "type": "array",
            "description": "List of locations where the resource bundles containing the site translation are located. Each array item must be an object with two properties: path and bundles.",
            "items": {
                "type": "object",
                "required": ["path", "bundles"],
                "additionalProperties": false,
                "properties": {
                    "path": {
                        "type": "string",
                        "description": "The Path Schema",
                        "examples": ["resources/locales/$bundle/$bundle_$locale.properties"]
                    },
                    "bundles": {
                        "type": "array",
                        "description": "The Bundles Schema"
                    }
                }
            }
        },
        "globalCss": {
            "type": "array",
            "description": "List of css file paths that will be included globally on all the project views. All the specified files will be merged into a single global css file to optimize performance. The merge order will be exactly the same as the one defined here",
            "items": {
                "type": "string",
                "description": "The Items Schema"
            },
            "examples": [
                "libs/normalize/normalize.css",
                "view/css/global-styles.scss",
                "view/components/main-menu/main-menu.scss",
                "view/components/footer/footer.scss"
            ]
        },
        "globalCDNS": {
            "type": "array",
            "description": "A list with the js files that will be loaded from CDN urls before the global js files. Each array item must be an object with two properties: ",
            "items": {
                "type": "object",
                "description": "The Items Schema",
                "required": [
                    "url",
                    "fallbackVerify",
                    "fallbackResource"
                ],
                "additionalProperties": false,
                "properties": {
                    "url": {
                        "type": "string",
                        "description": "The Url Schema",
                        "examples": [
                            "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
                        ]
                    },
                    "fallbackVerify": {
                        "type": "string",
                        "description": "A javascript sentence that must evaluate to true. If it evaluates to false it means that the CDN was not reachable and the fallback resource will be loaded",
                        "examples": [
                            "window.jQuery"
                        ]
                    },
                    "fallbackResource": {
                        "type": "string",
                        "description": "The project path inside src/main from where the library fallback resource will be loaded if CDN is not available",
                        "examples": [
                            "libs/jquery/jquery.js"
                        ]
                    }
                }
            }
        },
        "globalJs": {
            "type": "array",
            "description": "List of js file paths that will be included globally on all the project views. All the specified files will be merged into a single global js file to optimize performance. The merge order will be exactly the same as the one defined here",
            "items": {
                "type": "string",
                "examples": [
                    "libs/turbocommons-es5/turbocommons-es5.js"
                ]
            }
        },
        "testsSetup": {
            "type": "object",
            "description": "Configuration for the tests execution",
            "required": ["host"],
            "additionalProperties": false,
            "properties": {
                "host": {
                    "type": "string",
                    "description": "TODO",
                    "examples": ["localhost"]
                }
            }
        }
    }
}