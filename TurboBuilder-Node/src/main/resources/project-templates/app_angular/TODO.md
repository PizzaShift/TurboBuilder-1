# Steps to correctly setup a new angular project

So you've generated a new angular project with turbobuilder, and there's no angular files at all. This is because angular already has a project generation tool, and we should use it. We will create the project and then perform some changes to adapt it to the turbo way of life. So, follow these steps:

1. You should have already executed tb -g app_angular (To generate this TODO file)

2. Run cmd at the root of the project:
    
    - `ng new my-project-name`
    - Follow the instructions and customize the project to your needs
        - The css format must be scss
    
3. Go into the newly generated my-project-name folder, and perform the following changes:

    - Delete .git folder, .gitignore and README.md files if exist
    - Rename tslint.json to tslint-angular.json (We will extend the base angular tslint rules with the stricter ones that are generated by this project)

4. Cut all the files inside the generated my-project-name folder and paste them outside it (one level up)

    - Override the src folder that was generated by turbobuilder

5. Delete the now empty my-project-name folder
 
6. Perform the following file changes:

    - From `src/styles.scss` to `src/main/view/css/global.styles.scss`
    - From `src/app/app.module.ts to `src/main/model/modules` (There is a generated app module file already. You can use it if you prefer, as it is already initialized with material components and other useful things)
    - From `src/app/app.component.* to `src/main/view/components/app` (There are a generated app component files already. You can use them if you prefer)
    - Delete the now empty src/app folder

7. Run cmd at the root of the project:
    
    - `npm install turbocommons-ts`
    - `npm install turbogui-angular`
    - `npm install --save @angular/material @angular/cdk @angular/animations` (Install angular material library)
    
8. Edit the package.json file and:

    - Set a value to "description" just after name (Add the description property if it does not exist).

9. Edit the turbobuilder.json file and:

    - Set "metadata" / "name" to the same name as defined in package.json
    - Set "metadata" / "description" to the same name as defined in package.json

10. Edit the angular.json file and:
    
- Change "outputPath" from dist/my-project-name to target/my-project-name

- Replace the entries on "my-project-name" > "architect" > "build" > "options" > "styles" with the following:
    
    ```
    "src/main/view/css/normalize.css",
    "src/main/view/css/global.styles.scss"
    ```

- Add the following entries inside "my-project-name" > "architect" > "lint" > "options" > "exclude"

    ```
    "**/src/polyfills.ts",
    "**/src/test.ts"
    ```

- Totally remove the "lint" section from the "my-project-name-e2e" part
        
11. Edit the src/main.ts file and:

- Fix the `import { AppModule } from './app/app.module';` path to `./main/model/modules/app.module`
            
12. Edit the src/main/model/modules/app.module.ts file and:

- Fix the `import { AppComponent } from './app.component';` path to `../../view/components/app/app.component`

- Add the following modules to imports:
    BrowserModule,
    BrowserAnimationsModule,
    ComponentsModule

- Add any missing module that may throw an error when launching the application (Angular material ones for example)

13. Enable strict typescript compilation

- Edit `tsconfig.json` file and add the following inside "compilerOptions":

    ```
    "strict": true,
    "strictPropertyInitialization": false,
    "noUnusedLocals": true,
    "noUnusedParameters": true
    ```

14. Setup TSLint on your IDE of choice.

- If you're using eclipse, you must add the following code to the `tsconfig.json` file inside "compilerOptions":
    ```
    "plugins": [
      { "name": "@angular/language-service"},
      { "name": "tslint-language-service"}
    ]
    ```
    - And then restart the IDE

15. Delete this TODO.md file!!